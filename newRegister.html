<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="js/jquery-3.4.1.js" type="text/javascript"></script>
</head>
<body>
<div>
    用户名：<input type="text" class="form-control" id="email" placeholder="请输入用户名">
</div>
<div>
    密码：<input type="text" class="form-control" id="pwd" placeholder="请输入密码">
</div>
<div>
    确认密码：<input type="text" class="form-control" id="repwd" placeholder="请确认密码">
</div>
<button id="register">注册</button>
<a href="./newLogin.html">去登陆</a>
</body>
<script>
    $("#register").click(function () {
        var user={
            "email":document.getElementById("email").value,
            "pwd":document.getElementById("pwd").value,
            "rePwd":document.getElementById("repwd").value
        };

        // $.ajax({
        //     type : "GET",
        //     url : 'http://localhost:8080/user/test?user=eeee',
        //     success : function(html){
        //         console.log(html);
        //         alert(html);
        //      }
        //  });

        $.ajax({
            type: 'POST',
            data: JSON.stringify(user),
            contentType: 'application/json; charset=utf-8',
            url: 'http://localhost:8080/user/register',
            success: function (result) {
                if (result.code == 200){
                    alert("注册成功,去登陆");
                    window.location.replace("./newLogin.html");
                } else {
                    alert(result.msg);
                }
            },

        });
    })

</script>
</html>